<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acid Studio | 303 + Drums in WebAssembly</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="synth-container">
        <header class="synth-header">
            <h1>ACID STUDIO</h1>
            <span class="subtitle">303 Bass + 808/909 Drums</span>
        </header>

        <div class="main-panel">
            <!-- Oscillator Section -->
            <section class="control-section">
                <h2>VCO</h2>
                <div class="waveform-toggle">
                    <button id="wave-saw" class="wave-btn active">SAW</button>
                    <button id="wave-square" class="wave-btn">SQR</button>
                </div>
            </section>

            <!-- Filter Section -->
            <section class="control-section">
                <h2>VCF</h2>
                <div class="knob-row">
                    <div class="knob-container">
                        <input type="range" id="cutoff" min="20" max="20000" value="1000" class="knob">
                        <label>CUTOFF</label>
                        <span class="value" id="cutoff-value">1000</span>
                    </div>
                    <div class="knob-container">
                        <input type="range" id="resonance" min="0" max="100" value="50" class="knob">
                        <label>RESO</label>
                        <span class="value" id="resonance-value">50</span>
                    </div>
                    <div class="knob-container">
                        <input type="range" id="env-mod" min="0" max="100" value="50" class="knob">
                        <label>ENV MOD</label>
                        <span class="value" id="env-mod-value">50</span>
                    </div>
                    <div class="knob-container">
                        <input type="range" id="decay" min="10" max="2000" value="200" class="knob">
                        <label>DECAY</label>
                        <span class="value" id="decay-value">200</span>
                    </div>
                </div>
            </section>

            <!-- Accent & Distortion -->
            <section class="control-section">
                <h2>VCA / FX</h2>
                <div class="knob-row">
                    <div class="knob-container">
                        <input type="range" id="accent" min="0" max="100" value="70" class="knob">
                        <label>ACCENT</label>
                        <span class="value" id="accent-value">70</span>
                    </div>
                    <div class="knob-container">
                        <input type="range" id="slide-time" min="10" max="200" value="60" class="knob">
                        <label>SLIDE</label>
                        <span class="value" id="slide-time-value">60</span>
                    </div>
                    <div class="knob-container">
                        <input type="range" id="distortion" min="0" max="100" value="30" class="knob">
                        <label>DIST</label>
                        <span class="value" id="distortion-value">30</span>
                    </div>
                </div>
            </section>
        </div>

        <!-- Transport & Tempo -->
        <section class="transport-section">
            <div class="transport-header">
                <div class="tempo-control">
                    <label>BPM</label>
                    <input type="number" id="tempo" min="60" max="200" value="120">
                </div>
                <div class="transport">
                    <button id="play-btn" class="transport-btn">▶ PLAY</button>
                    <button id="stop-btn" class="transport-btn">■ STOP</button>
                </div>
                <div class="mixer-controls">
                    <div class="mixer-knob">
                        <input type="range" id="synth-vol" min="0" max="100" value="70">
                        <label>BASS</label>
                    </div>
                    <div class="mixer-knob">
                        <input type="range" id="drum-vol" min="0" max="100" value="80">
                        <label>DRUMS</label>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bass Sequencer Section -->
        <section class="sequencer-section">
            <div class="sequencer-header">
                <h2>BASS SEQUENCER</h2>
                <select id="preset-select" class="preset-dropdown">
                    <!-- Populated by JS -->
                </select>
            </div>

            <div class="step-grid" id="step-grid">
                <!-- 16 steps generated by JS -->
            </div>

            <div class="sequencer-legend">
                <span><span class="legend-note"></span> Click = Note</span>
                <span><span class="legend-accent"></span> Right-click = Accent</span>
                <span><span class="legend-slide"></span> Shift+Click = Slide</span>
            </div>
        </section>

        <!-- Drum Machine Section -->
        <section class="drum-section">
            <div class="drum-header">
                <h2>DRUM MACHINE</h2>
                <select id="drum-preset-select" class="preset-dropdown">
                    <!-- Populated by JS -->
                </select>
                <div class="drum-controls">
                    <div class="drum-knob">
                        <input type="range" id="kick-vol" min="0" max="100" value="80">
                        <label>KICK</label>
                    </div>
                    <div class="drum-knob">
                        <input type="range" id="snare-vol" min="0" max="100" value="70">
                        <label>SNARE</label>
                    </div>
                    <div class="drum-knob">
                        <input type="range" id="hh-vol" min="0" max="100" value="50">
                        <label>HH</label>
                    </div>
                </div>
            </div>

            <div class="drum-grid" id="drum-grid">
                <!-- 4 tracks x 16 steps generated by JS -->
            </div>

            <div class="drum-legend">
                <span class="drum-label kick-label">KICK</span>
                <span class="drum-label snare-label">SNARE</span>
                <span class="drum-label chh-label">CH</span>
                <span class="drum-label ohh-label">OH</span>
            </div>
        </section>

        <!-- Keyboard Section -->
        <section class="keyboard-section">
            <h2>KEYBOARD</h2>
            <div class="keyboard" id="keyboard">
                <!-- Keys generated by JS -->
            </div>
            <p class="keyboard-hint">Play with keys: A-L = C2-C3 | Hold to sustain</p>
        </section>

        <footer class="synth-footer">
            <p>Acid Studio v0.2.0 | Built with Rust + WebAssembly</p>
            <p>303 Bass Synth + 808/909 Drum Machine</p>
        </footer>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>
